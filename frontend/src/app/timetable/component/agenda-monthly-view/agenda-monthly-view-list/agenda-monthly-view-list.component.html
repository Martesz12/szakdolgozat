<mat-card class="mat-elevation-z4 agenda-monthly-view-card">
    <div *ngIf="this.selectedDayDate !== 0">
        <div class="main-title-font card-main-title mb-20">{{currentDate | date : 'yyyy. MM. dd.'}} - Feladatok</div>
        <mat-accordion>
            <mat-expansion-panel
                *ngFor="let mainTask of sortByDate(filteredMainTasks)"
                class="type-{{ getTypeForClass(mainTask.type) }}"
            >
                <mat-expansion-panel-header>
                    <div class="expansion-panel-header">
                        <div><mat-checkbox (click)="checkMainTask($event, mainTask)"></mat-checkbox></div>
                        <div
                            class="color-picker-sample ml-10"
                            [ngStyle]="{ 'background-color': getSubjectColor(mainTask.lessonId) }"
                        ></div>
                        <div class="ml-10 content-font">{{ mainTask.name }}</div>
                    </div>
                </mat-expansion-panel-header>
                <div class="secondary-title-font card-description-element-title">
                    <mat-icon class="mr-5">description</mat-icon>
                    Jegyzet:
                </div>
                <div class="content-font mt-10 mb-15 ml-10">{{mainTask.note}}</div>
                <div class="secondary-title-font card-description-element-title">
                    <mat-icon class="mr-5">subdirectory_arrow_right</mat-icon>
                    Alfeladatok:
                </div>
                <div *ngFor="let subTask of filterSubTasksByMainTaskId(mainTask.id!)" class="sub-task-row">
                    <div class="sub-task-main">
                        <div>
                            <mat-checkbox
                                (change)="checkSubTask(subTask)"
                                [checked]="subTask.fulfilled"
                            ></mat-checkbox>
                        </div>
                        <div
                            class="content-font ml-10"
                            [class.completed-task]="subTask.fulfilled"
                            style="width: 100%"
                        >
                            {{ subTask.name }}
                        </div>
                    </div>
                </div>
            </mat-expansion-panel>
        </mat-accordion>
    </div>

    <div *ngIf="this.selectedDayDate === 0" class="no-selected-element">
        <mat-icon class="no-selected-element-icon mb-20">info_outline</mat-icon>
        <div class="no-element-found-font">Válassz egy napot az aznapi feladatok megtekintéséhez!</div>
    </div>
</mat-card>
